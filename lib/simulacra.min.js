/*!
 * Simulacra.js
 * Version 1.2.7
 * MIT License
 * https://github.com/0x8890/simulacra
 */
!function e(t,r,n){function o(a,l){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";function n(e,t,r,n,i){var a,l,u;if("object"!=typeof t||null===t)throw new TypeError('Invalid type of value "'+t+'", object expected.');m.set(t,{}),a={},g.set(t,a);for(l in r)u=i.concat(l),u.root=i.root,u.target=t,a[l]={keyPath:u,activeNodes:[],previousValues:[],valueIsArray:null},o(e,t,r,l,n,i)}function o(e,t,r,o,f,w){function b(){return x[o]}function v(t){var r,a=x[o];return t===a?t:(q&&null!=t?n(e,t,q,f,I):S&&(r=S(f,t,a,I),void 0!==r&&i(f,r,M[d])),x[o]=t,t)}function N(e){var t,r,n,i,l,u,s;if(U=B.valueIsArray=Array.isArray(e))for(r=e,r.pop=T,r.push=j,r.shift=O,r.unshift=C,r.splice=P,u=0,s=r.length;u<s;u++)k(r,u);else r=[e];for(u=0,s=Math.max(R.length,r.length);u<s;u++)i=r[u],l=R[u],n=i!==l?E(i,l,u):null,n?(t||(t=_.createDocumentFragment()),t.appendChild(n)):t&&W.parentNode.insertBefore(t,a(u+1,z)||W);return t&&W.parentNode.insertBefore(t,W),r.length!==R.length&&(R.length=z.length=r.length),x[o]=e,e}function k(e,t){var r=e[t];Object.defineProperty(e,t,{get:function(){return r},set:function(n){var o,i,l;r=n,o=e[t],i=R[t],o!==i&&(l=E(o,i,t)),l&&W.parentNode.insertBefore(l,a(t+1,z)||W)},enumerable:!0,configurable:!0})}function A(e,t,r){var n,o=z[r],i=I;delete R[r],o&&(U&&(i=l(w,I,r)),S?n=S(o,null,t,i):q&&F&&(u(i,I),n=F(o,null,t,i)),n!==y&&W.parentNode.removeChild(o),delete z[r])}function E(t,r,o){var a,f=z[o],c=D,p=I;if(void 0===t&&(t=null),null===t)return A(null,r,o),null;if(U&&(p=l(w,I,o)),R[o]=t,q)f&&A(t,r,o),c=s(e,D,q),p.target=U?t[o]:t,n(e,t,q,c,p),F&&(u(p,I),F(c,t,null,p));else if(c=f||D.cloneNode(!0),S?(a=S(c,t,r,p),void 0!==a&&i(c,a,M[d])):i(c,t,M[d]),f)return null;return z[o]=c,c}function T(){var e=this.length-1,t=R[e],r=Array.prototype.pop.call(this);return A(null,t,e),R.length=z.length=this.length,r}function j(){var e,t,r,n=this.length,o=Array.prototype.push.apply(this,arguments);if(arguments.length){for(t=_.createDocumentFragment(),e=n+arguments.length;n<e;n++)r=E(this[n],null,n),r&&t.appendChild(r),k(this,n);W.parentNode.insertBefore(t,W)}return o}function O(){return A(null,R[0],0),Array.prototype.shift.call(R),Array.prototype.shift.call(z),Array.prototype.shift.call(this)}function C(){var e,t,r,n,o=this.length,i=Array.prototype.unshift.apply(this,arguments);if(Array.prototype.unshift.apply(R,arguments),Array.prototype.unshift.apply(z,Array(t)),arguments.length){for(r=_.createDocumentFragment(),e=0,t=arguments.length;e<t;e++)n=E(arguments[e],null,e),n&&r.appendChild(n);for(e=o+arguments.length;o<e;o++)k(this,o);W.parentNode.insertBefore(r,a(arguments.length,z)||W)}return i}function P(e,t){var r,n,o,i,l,u,s=[];for(r=e,n=e+t;r<n;r++)A(null,R[r],r);for(r=2,n=arguments.length;r<n;r++)s.push(arguments[r]);if(Array.prototype.splice.apply(R,arguments),Array.prototype.splice.apply(z,[e,t].concat(Array(s.length))),l=Array.prototype.splice.apply(this,arguments),s.length){for(i=_.createDocumentFragment(),r=e+s.length-1,n=e;r>=n;r--)u=E(s[r-e],null,r),u&&i.appendChild(u);W.parentNode.insertBefore(i,a(e+s.length,z)||W)}if(o=s.length-t,o<0)R.length=z.length=this.length;else if(o>0)for(r=this.length-o,n=this.length;r<n;r++)k(this,r);return l}var _=e?e.document:window.document,x=m.get(t),B=g.get(t)[o],M=r[o],D=M[0],S=!M[p]&&M[1],q=M[p]&&M[1],F=M[2],W=c.get(M),I=B.keyPath,z=B.activeNodes,R=B.previousValues,U=B.valueIsArray;M[h]?v(t[o]):N(t[o]),Object.defineProperty(t,o,{get:b,set:M[h]?v:N,enumerable:!0,configurable:!0})}function i(e,t,r){switch(r){case"checked":t?e.checked="checked":e.removeAttribute("checked");break;default:e[r]=t}}function a(e,t){var r,n,o;for(r=e,n=t.length;r<n;r++)if(t[r]){o=t[r];break}return o}function l(e,t,r){var n=t.concat(r);return n.root=e.root,n.target=e.target,n}function u(e,t){var r,n;for(e.target=e.root,r=0,n=t.length-1;r<n;n++)e.target=e.target[t[r]]}var s=e("./process_nodes"),f=e("./key_map"),c=s.markerMap,p=f.hasDefinition,h=f.isBoundToParent,d=f.replaceAttribute,y=f.retainElement,m=new WeakMap,g=new WeakMap;t.exports=n},{"./key_map":3,"./process_nodes":4}],2:[function(e,t,r){"use strict";function n(e,t){var r,n,i,f=this?this.document:window.document,p=this?this.Node:window.Node;if(l(this||window),null===e||"object"!=typeof e||c(e))throw new TypeError("First argument must be a singular object.");if(!c(t))throw new TypeError("Second argument must be an array.");if("string"==typeof t[0]){if(n=t[0],t[0]=f.querySelector(n),!t[0])throw new Error('Top-level node "'+n+'" could not be found in the document.')}else if(!(t[0]instanceof p))throw new TypeError("The first position of top-level must be a Node or a CSS selector string.");return t[y]||(o(this,t[0],t[1]),a(t)),r=u(this,t[0],t[1]),i=[],i.root=e,s(this,e,t[1],r,i),r}function o(e,t,r){var n,l,u,s,f,c,h,y=e?e.Element:window.Element,m=[];if("object"!=typeof r)throw new TypeError("The second position must be an object.");for(u in r){if(f=r[u],"function"==typeof f||"object"==typeof f&&null!==f&&!Array.isArray(f))r[u]=f=[t,f];else if("string"==typeof f)r[u]=f=[f];else if(!Array.isArray(f))throw new TypeError('The binding on key "'+u+'" is invalid.');if("string"==typeof f[0]){if(s=f[0],h=t.parentNode||t,f[0]=h.querySelector(s),!f[0])throw new Error('The element for selector "'+s+'" was not found.')}else if(!(f[0]instanceof y))throw new TypeError('The first position on key "'+u+'" must be a DOM element or a CSS selector string.');if(c=f[0],"object"==typeof f[1]&&null!==f[1]){if(Object.defineProperty(f,p,{value:!0}),f[2]&&"function"!=typeof f[2])throw new TypeError('The third position on key "'+u+'" must be a function.')}else if(f[1]&&"function"!=typeof f[1])throw new TypeError('The second position on key "'+u+'" must be an object or a function.');if(t!==c){if(m.push([u,c]),!t.contains(c))throw new Error("The bound DOM element must be either contained in or equal to the element in its parent binding.");f[p]?(o(e,c,f[1]),a(f)):(i(f,c),a(f))}else Object.defineProperty(f,d,{value:!0}),f[p]?o(e,c,f[1]):"function"==typeof f[1]?i(f,c):console.warn('A change function was not defined on the key "'+u+'".'),a(f)}for(u in r)for(c=r[u][0],n=0,l=m.length;n<l;n++)if(m[n][1].contains(c)&&m[n][1]!==c)throw new Error('The element for key "'+u+'" is contained in the element for the adjacent key "'+m[n][0]+'".');a(r)}function i(e,t){Object.defineProperty(e,h,{value:~m.indexOf(t.nodeName)?~g.indexOf(t.type)?"checked":"value":"textContent"})}function a(e){Object.defineProperty(e,y,{value:!0}),Object.freeze(e)}function l(e){var t,r,n,o,i,a,l=[[Object,"defineProperty"],[Object,"freeze"],[Object,"isFrozen"],[WeakMap],["document","createDocumentFragment"],["document","createTreeWalker"],["Node","prototype","appendChild"],["Node","prototype","contains"],["Node","prototype","insertBefore"],["Node","prototype","isEqualNode"],["Node","prototype","removeChild"]];for(t=0,r=l.length;t<r;t++)if(a=l[t],"string"==typeof a[0])for(i=e,n=0,o=a.length;n<o;n++){if(!(a[n]in i))throw new Error("Missing "+a.slice(0,n+1).join(".")+" feature which is required.");i=i[a[n]]}else for(i=a[0],n=1,o=a.length;n<o;n++)if(n>1&&(i=i[a[n]]),"undefined"==typeof i)throw new Error("Missing "+a[0].name+a.slice(1,n+1).join(".")+" feature which is required.")}var u=e("./process_nodes"),s=e("./bind_keys"),f=e("./key_map"),c=Array.isArray,p=f.hasDefinition,h=f.replaceAttribute,d=f.isBoundToParent,y=f.isProcessed,m=["INPUT","TEXTAREA","PROGRESS"],g=["checkbox","radio"];Object.defineProperty(n,"retainElement",{enumerable:!0,value:f.retainElement}),Object.defineProperty(n,"useCommentNode",{get:function(){return u.useCommentNode},set:function(e){u.useCommentNode=e},enumerable:!0}),t.exports=n},{"./bind_keys":1,"./key_map":3,"./process_nodes":4}],3:[function(e,t,r){"use strict";var n,o,i=["hasDefinition","isBoundToParent","isProcessed","replaceAttribute","retainElement"],a={},l="function"==typeof Symbol;for(n=0,o=i.length;n<o;n++)a[i[n]]=l?Symbol(i[n]):"__"+i[n]+"__";t.exports=a},{}],4:[function(e,t,r){"use strict";function n(e,t,r){var i,u,s,f,c,p,h=e?e.document:window.document;t=t.cloneNode(!0),p=o(e,t,r);for(i in r)u=r[i],u[a]||(s=p.get(u[0]),f=s.parentNode,n.useCommentNode?(c=f.insertBefore(h.createComment(' end "'+i+'" '),s),f.insertBefore(h.createComment(' begin "'+i+'" '),c)):c=f.insertBefore(h.createTextNode(""),s),l.set(u,c),f.removeChild(s));return t}function o(e,t,r){var n,o,i,a,l=e?e.document:window.document,u=e?e.NodeFilter:window.NodeFilter,s=l.createTreeWalker(t,u.SHOW_ELEMENT),f=new WeakMap,c=[];for(i in r)c.push(r[i][0]);for(;s.nextNode()&&c.length;)for(n=0,o=c.length;n<o;n++)if(a=c[n],s.currentNode.isEqualNode(a)){f.set(a,s.currentNode),c.splice(n,1);break}return f}var i=e("./key_map"),a=i.isBoundToParent,l=n.markerMap=new WeakMap;n.useCommentNode=!1,t.exports=n},{"./key_map":3}],5:[function(e,t,r){window.simulacra=e("../lib/index")},{"../lib/index":2}]},{},[5]);
